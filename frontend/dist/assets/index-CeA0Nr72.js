import{b8 as L,a,b9 as S,aV as b,aU as n}from"./index-D5NEVckz.js";import{u as _,s as p,c as w}from"./ErpApp-Ds58W3Mv.js";import{Q as x,Y as O,ac as j,Z as v,X as E}from"./IdurarOs-V_bURJEp.js";const F=()=>{const u=x(),l=L(),[r,o]=a.useState([]),i=S(),d=()=>E.listAll({entity:"currency",options:{enabled:!0}}),{result:y,isLoading:f,isSuccess:c}=_(d);a.useEffect(()=>{c&&o(y)},[c]);const h=b(O),m=e=>{const s=r.find(t=>t.currency_code===e);l(p.updateCurrency({data:{default_currency_code:s.currency_code}}))},g=e=>{e==="redirectURL"&&i("/settings/currency")},C=()=>{const e=[],s="redirectURL",t="+ Add New Currency";return e.push(...w(r)),e.push({value:s,label:t}),e};return n.jsx(j.Item,{label:u("currency"),name:"currency",rules:[{required:!0}],initialValue:h.default_currency_code,children:n.jsx(v,{showSearch:!0,loading:f,filterOption:(e,s)=>((s==null?void 0:s.label)??"").toLowerCase().includes(e.toLowerCase()),filterSort:(e,s)=>((e==null?void 0:e.label)??"").toLowerCase().startsWith(((s==null?void 0:s.label)??"").toLowerCase()),options:C(),onSelect:m,onChange:g})})},I=F;export{I as S};
